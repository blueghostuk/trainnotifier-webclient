(function(n){var u="0.9.3",t={isMsie:function(){var n=/(msie) ([\w.]+)/i.exec(navigator.userAgent);return n?parseInt(n[2],10):!1},isBlankString:function(n){return!n||/^\s*$/.test(n)},escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"},isArray:n.isArray,isFunction:n.isFunction,isObject:n.isPlainObject,isUndefined:function(n){return typeof n=="undefined"},bind:n.proxy,bindAll:function(t){var i;for(var r in t)n.isFunction(i=t[r])&&(t[r]=n.proxy(i,t))},indexOf:function(n,t){for(var i=0;i<n.length;i++)if(n[i]===t)return i;return-1},each:n.each,map:n.map,filter:n.grep,every:function(t,i){var r=!0;return t?(n.each(t,function(n,u){if(!(r=i.call(null,u,n,t)))return!1}),!!r):r},some:function(t,i){var r=!1;return t?(n.each(t,function(n,u){if(r=i.call(null,u,n,t))return!1}),!!r):r},mixin:n.extend,getUniqueId:function(){var n=0;return function(){return n++}}(),defer:function(n){setTimeout(n,0)},debounce:function(n,t,i){var r,u;return function(){var f=this,e=arguments,o,s;return o=function(){r=null;i||(u=n.apply(f,e))},s=i&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(u=n.apply(f,e)),u}},throttle:function(n,t){var u,f,i,e,r,o;return r=0,o=function(){r=new Date;i=null;e=n.apply(u,f)},function(){var s=new Date,h=t-(s-r);return u=this,f=arguments,h<=0?(clearTimeout(i),i=null,r=s,e=n.apply(u,f)):i||(i=setTimeout(o,h)),e}},tokenizeQuery:function(t){return n.trim(t).toLowerCase().split(/[\s]+/)},tokenizeText:function(t){return n.trim(t).toLowerCase().split(/[\s\-_]+/)},getProtocol:function(){return location.protocol},noop:function(){}},i=function(){var n=/\s+/;return{on:function(t,i){var r;if(!i)return this;for(this._callbacks=this._callbacks||{},t=t.split(n);r=t.shift();)this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push(i);return this},trigger:function(t,i){var u,f,r;if(!this._callbacks)return this;for(t=t.split(n);u=t.shift();)if(f=this._callbacks[u])for(r=0;r<f.length;r+=1)f[r].call(this,{type:u,data:i});return this}}}(),r=function(){function i(t){t&&t.el||n.error("EventBus initialized without el");this.$el=n(t.el)}var r="typeahead:";return t.mixin(i.prototype,{trigger:function(n){var t=[].slice.call(arguments,1);this.$el.trigger(r+n,t)}}),i}(),f=function(){function r(n){this.prefix=["__",n,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+this.prefix)}function u(){return(new Date).getTime()}function f(n){return JSON.stringify(t.isUndefined(n)?null:n)}function e(n){return JSON.parse(n)}var n,i;try{n=window.localStorage;n.setItem("~~~","!");n.removeItem("~~~")}catch(o){n=null}return i=n&&window.JSON?{_prefix:function(n){return this.prefix+n},_ttlKey:function(n){return this._prefix(n)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),e(n.getItem(this._prefix(t)))},set:function(i,r,e){return t.isNumber(e)?n.setItem(this._ttlKey(i),f(u()+e)):n.removeItem(this._ttlKey(i)),n.setItem(this._prefix(i),f(r))},remove:function(t){return n.removeItem(this._ttlKey(t)),n.removeItem(this._prefix(t)),this},clear:function(){for(var r,i=[],u=n.length,t=0;t<u;t++)(r=n.key(t)).match(this.keyMatcher)&&i.push(r.replace(this.keyMatcher,""));for(t=i.length;t--;)this.remove(i[t]);return this},isExpired:function(i){var r=e(n.getItem(this._ttlKey(i)));return t.isNumber(r)&&u()>r?!0:!1}}:{get:t.noop,set:t.noop,remove:t.noop,clear:t.noop,isExpired:t.noop},t.mixin(r.prototype,i),r}(),e=function(){function n(n){t.bindAll(this);n=n||{};this.sizeLimit=n.sizeLimit||10;this.cache={};this.cachedKeysByAge=[]}return t.mixin(n.prototype,{get:function(n){return this.cache[n]},set:function(n,t){var i;this.cachedKeysByAge.length===this.sizeLimit&&(i=this.cachedKeysByAge.shift(),delete this.cache[i]);this.cache[n]=t;this.cachedKeysByAge.push(n)}}),n}(),o=function(){function o(n){t.bindAll(this);n=t.isString(n)?{url:n}:n;i=i||new e;f=t.isNumber(n.maxParallelRequests)?n.maxParallelRequests:f||6;this.url=n.url;this.wildcard=n.wildcard||"%QUERY";this.filter=n.filter;this.replace=n.replace;this.ajaxSettings={type:"get",cache:n.cache,timeout:n.timeout,dataType:n.dataType||"json",beforeSend:n.beforeSend};this._get=(/^throttle$/i.test(n.rateLimitFn)?t.throttle:t.debounce)(this._get,n.rateLimitWait||300)}function s(){r++}function h(){r--}function c(){return r<f}var r=0,u={},f,i;return t.mixin(o.prototype,{_get:function(n,t){function u(u){var f=r.filter?r.filter(u):u;t&&t(f);i.set(n,u)}var r=this;c()?this._sendRequest(n).done(u):this.onDeckRequestArgs=[].slice.call(arguments,0)},_sendRequest:function(t){function f(){h();u[t]=null;i.onDeckRequestArgs&&(i._get.apply(i,i.onDeckRequestArgs),i.onDeckRequestArgs=null)}var i=this,r=u[t];return r||(s(),r=u[t]=n.ajax(t,this.ajaxSettings).always(f)),r},get:function(n,r){var e=this,o=encodeURIComponent(n||""),f,u;return r=r||t.noop,f=this.replace?this.replace(this.url,o):this.url.replace(this.wildcard,o),(u=i.get(f))?t.defer(function(){r(e.filter?e.filter(u):u)}):this._get(f,r),!!u}}),o}(),s=function(){function r(i){t.bindAll(this);t.isString(i.template)&&!i.engine&&n.error("no template engine specified");i.local||i.prefetch||i.remote||n.error("one of local, prefetch, or remote is required");this.name=i.name||t.getUniqueId();this.limit=i.limit||5;this.minLength=i.minLength||1;this.header=i.header;this.footer=i.footer;this.valueKey=i.valueKey||"value";this.template=e(i.template,i.engine,this.valueKey);this.local=i.local;this.prefetch=i.prefetch;this.remote=i.remote;this.itemHash={};this.adjacencyList={};this.storage=i.name?new f(i.name):null}function e(n,i,r){var u,f;return t.isFunction(n)?u=n:t.isString(n)?(f=i.compile(n),u=t.bind(f.render,f)):u=function(n){return"<p>"+n[r]+"<\/p>"},u}var i={thumbprint:"thumbprint",protocol:"protocol",itemHash:"itemHash",adjacencyList:"adjacencyList"};return t.mixin(r.prototype,{_processLocalData:function(n){this._mergeProcessedData(this._processData(n))},_loadPrefetchData:function(r){function v(n){var e=r.filter?r.filter(n):n,u=f._processData(e),o=u.itemHash,s=u.adjacencyList;f.storage&&(f.storage.set(i.itemHash,o,r.ttl),f.storage.set(i.adjacencyList,s,r.ttl),f.storage.set(i.thumbprint,h,r.ttl),f.storage.set(i.protocol,t.getProtocol(),r.ttl));f._mergeProcessedData(u)}var f=this,h=u+(r.thumbprint||""),c,l,e,o,a,s;return this.storage&&(c=this.storage.get(i.thumbprint),l=this.storage.get(i.protocol),e=this.storage.get(i.itemHash),o=this.storage.get(i.adjacencyList)),a=c!==h||l!==t.getProtocol(),r=t.isString(r)?{url:r}:r,r.ttl=t.isNumber(r.ttl)?r.ttl:864e5,e&&o&&!a?(this._mergeProcessedData({itemHash:e,adjacencyList:o}),s=n.Deferred().resolve()):s=n.getJSON(r.url).done(v),s},_transformDatum:function(n){var r=t.isString(n)?n:n[this.valueKey],u=n.tokens||t.tokenizeText(r),i={value:r,tokens:u};return t.isString(n)?(i.datum={},i.datum[this.valueKey]=n):i.datum=n,i.tokens=t.filter(i.tokens,function(n){return!t.isBlankString(n)}),i.tokens=t.map(i.tokens,function(n){return n.toLowerCase()}),i},_processData:function(n){var u=this,r={},i={};return t.each(n,function(n,f){var o=u._transformDatum(f),e=t.getUniqueId(o.value);r[e]=o;t.each(o.tokens,function(n,r){var u=r.charAt(0),f=i[u]||(i[u]=[e]);~t.indexOf(f,e)||f.push(e)})}),{itemHash:r,adjacencyList:i}},_mergeProcessedData:function(n){var i=this;t.mixin(this.itemHash,n.itemHash);t.each(n.adjacencyList,function(n,t){var r=i.adjacencyList[n];i.adjacencyList[n]=r?r.concat(t):t})},_getLocalSuggestions:function(n){var f=this,i=[],u=[],r,e=[];return(t.each(n,function(n,r){var u=r.charAt(0);~t.indexOf(i,u)||i.push(u)}),t.each(i,function(n,t){var i=f.adjacencyList[t];if(!i)return!1;u.push(i);(!r||i.length<r.length)&&(r=i)}),u.length<i.length)?[]:(t.each(r,function(i,r){var o=f.itemHash[r],s,h;s=t.every(u,function(n){return~t.indexOf(n,r)});h=s&&t.every(n,function(n){return t.some(o.tokens,function(t){return t.indexOf(n)===0})});h&&e.push(o)}),e)},initialize:function(){var t;return this.local&&this._processLocalData(this.local),this.transport=this.remote?new o(this.remote):null,t=this.prefetch?this._loadPrefetchData(this.prefetch):n.Deferred().resolve(),this.local=this.prefetch=this.remote=null,this.initialize=function(){return t},t},getSuggestions:function(n,i){function o(n){r=r.slice(0);t.each(n,function(n,i){var u=f._transformDatum(i),e;return e=t.some(r,function(n){return u.value===n.value}),e||r.push(u),r.length<f.limit});i&&i(r)}function s(n,t){if(t.length==0||n[0].length!=3)return t;var u=n[0].toLowerCase(),i=[],r=[];return t.forEach(function(n){n.tokens[0].toLowerCase()==u?i.push(n):r.push(n)}),i.concat(r)}var f=this,u,r,e=!1;n.length<this.minLength||(u=t.tokenizeQuery(n),r=this._getLocalSuggestions(u),r=s(u,r).slice(0,this.limit),r.length<this.limit&&this.transport&&(e=this.transport.get(n,o)),!e&&i&&i(r))}}),r}(),h=function(){function r(i){var r=this;if(t.bindAll(this),this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},this.$hint=n(i.hint),this.$input=n(i.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent),t.isMsie())this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(n){r.specialKeyCodeMap[n.which||n.keyCode]||t.defer(r._compareQueryToInputValue)});else this.$input.on("input.tt",this._compareQueryToInputValue);this.query=this.$input.val();this.$overflowHelper=u(this.$input)}function u(t){return n("<span><\/span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function f(n,t){return n=(n||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),t=(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),n===t}return t.mixin(r.prototype,i,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(n){var t=this.specialKeyCodeMap[n.which||n.keyCode];t&&this.trigger(t+"Keyed",n)},_compareQueryToInputValue:function(){var n=this.getInputValue(),t=f(this.query,n),i=t?this.query.length!==n.length:!1;i?this.trigger("whitespaceChanged",{value:this.query}):t||this.trigger("queryChanged",{value:this.query=n})},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(n){this.query=n},getInputValue:function(){return this.$input.val()},setInputValue:function(n,t){this.$input.val(n);t||this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(n){this.$hint.val(n)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var n=this.$input.val().length,r=this.$input[0].selectionStart,i;return t.isNumber(r)?r===n:document.selection?(i=document.selection.createRange(),i.moveStart("character",-n),n===i.text.length):!0}}),r}(),c=function(){function f(i){t.bindAll(this);this.isOpen=!1;this.isEmpty=!0;this.isMouseOverDropdown=!1;this.$menu=n(i.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",this._handleMouseover)}function r(n){return n.data("suggestion")}var e={suggestionsList:'<span class="tt-suggestions"><\/span>'},u={suggestionsList:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"}};return t.mixin(f.prototype,i,{_handleMouseenter:function(){this.isMouseOverDropdown=!0},_handleMouseleave:function(){this.isMouseOverDropdown=!1},_handleMouseover:function(t){var i=n(t.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor");i.addClass("tt-is-under-cursor")},_handleSelection:function(t){var i=n(t.currentTarget);this.trigger("suggestionSelected",r(i))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(n){var i,u,t,f;if(this.isVisible()){if(i=this._getSuggestions(),u=i.filter(".tt-is-under-cursor"),u.removeClass("tt-is-under-cursor"),t=i.index(u)+n,t=(t+1)%(i.length+1)-1,t===-1){this.trigger("cursorRemoved");return}t<-1&&(t=i.length-1);f=i.eq(t).addClass("tt-is-under-cursor");this._ensureVisibility(f);this.trigger("cursorMoved",r(f))}},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},_ensureVisibility:function(n){var i=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),r=this.$menu.scrollTop(),t=n.position().top,u=t+n.outerHeight(!0);t<0?this.$menu.scrollTop(r+t):i<u&&this.$menu.scrollTop(r+(u-i))},destroy:function(){this.$menu.off(".tt");this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){this.isMouseOverDropdown||this.close()},close:function(){this.isOpen&&(this.isOpen=!1,this.isMouseOverDropdown=!1,this._hide(),this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor"),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,this.isEmpty||this._show(),this.trigger("opened"))},setLanguageDirection:function(n){n==="ltr"?this.$menu.css({left:"0",right:"auto"}):this.$menu.css({left:"auto",right:" 0"})},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getSuggestionUnderCursor:function(){var n=this._getSuggestions().filter(".tt-is-under-cursor").first();return n.length>0?r(n):null},getFirstSuggestion:function(){var n=this._getSuggestions().first();return n.length>0?r(n):null},renderSuggestions:function(i,r){var c="tt-dataset-"+i.name,v='<div class="tt-suggestion">%body<\/div>',l,a,f=this.$menu.find("."+c),o,s,h;f.length===0&&(a=n(e.suggestionsList).css(u.suggestionsList),f=n("<div><\/div>").addClass(c).append(i.header).append(a).append(i.footer).appendTo(this.$menu));r.length>0?(this.isEmpty=!1,this.isOpen&&this._show(),o=document.createElement("div"),s=document.createDocumentFragment(),t.each(r,function(t,r){r.dataset=i.name;l=i.template(r.datum);o.innerHTML=v.replace("%body",l);h=n(o.firstChild).css(u.suggestion).data("suggestion",r);h.children().each(function(){n(this).css(u.suggestionChild)});s.appendChild(h[0])}),f.show().find(".tt-suggestions").html(s)):this.clearSuggestions(i.name);this.trigger("suggestionsRendered")},clearSuggestions:function(n){var t=n?this.$menu.find(".tt-dataset-"+n):this.$menu.find('[class^="tt-dataset-"]'),i=t.find(".tt-suggestions");t.hide();i.empty();this._getSuggestions().length===0&&(this.isEmpty=!0,this._hide())}}),f}(),l=function(){function f(n){var i,r,u;t.bindAll(this);this.$node=e(n.input);this.datasets=n.datasets;this.dir=null;this.eventBus=n.eventBus;i=this.$node.find(".tt-dropdown-menu");r=this.$node.find(".tt-query");u=this.$node.find(".tt-hint");this.dropdownView=new c({menu:i}).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent);this.inputView=new h({input:r,hint:u}).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)}function e(t){var f=n(u.wrapper),e=n(u.dropdown),i=n(t),o=n(u.hint);f=f.css(r.wrapper);e=e.css(r.dropdown);o.css(r.hint).css({backgroundAttachment:i.css("background-attachment"),backgroundClip:i.css("background-clip"),backgroundColor:i.css("background-color"),backgroundImage:i.css("background-image"),backgroundOrigin:i.css("background-origin"),backgroundPosition:i.css("background-position"),backgroundRepeat:i.css("background-repeat"),backgroundSize:i.css("background-size")});i.data("ttAttrs",{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")});i.addClass("tt-query").attr({autocomplete:"off",spellcheck:!1}).css(r.query);try{i.attr("dir")||i.attr("dir","auto")}catch(s){}return i.wrap(f).parent().prepend(o).append(e)}function o(n){var i=n.find(".tt-query");t.each(i.data("ttAttrs"),function(n,r){t.isUndefined(r)?i.removeAttr(n):i.attr(n,r)});i.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(n);n.remove()}var u={wrapper:'<span class="twitter-typeahead"><\/span>',hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',dropdown:'<span class="tt-dropdown-menu"><\/span>'},r={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}};return t.isMsie()&&t.mixin(r.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t.isMsie()&&t.isMsie()<=7&&(t.mixin(r.wrapper,{display:"inline",zoom:"1"}),t.mixin(r.query,{marginTop:"-1px"})),t.mixin(f.prototype,i,{_managePreventDefault:function(n){var t=n.data,i,u,r=!1;switch(n.type){case"tabKeyed":i=this.inputView.getHintValue();u=this.inputView.getInputValue();r=i&&i!==u;break;case"upKeyed":case"downKeyed":r=!t.shiftKey&&!t.ctrlKey&&!t.metaKey}r&&t.preventDefault()},_setLanguageDirection:function(){var n=this.inputView.getLanguageDirection();n!==this.dir&&(this.dir=n,this.$node.css("direction",n),this.dropdownView.setLanguageDirection(n))},_updateHint:function(){var r=this.dropdownView.getFirstSuggestion(),u=r?r.value:null,s=this.dropdownView.isVisible(),h=this.inputView.isOverflow(),n,f,e,o,i;u&&s&&!h&&(n=this.inputView.getInputValue(),f=n.replace(/\s{2,}/g," ").replace(/^\s+/g,""),e=t.escapeRegExChars(f),o=new RegExp("^(?:"+e+")(.*$)","i"),i=o.exec(u),this.inputView.setHintValue(n+(i?i[1]:"")))},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(n){var t=n.data;this.inputView.setInputValue(t.value,!0)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(n){this.dropdownView[n.type==="blured"?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(n){var t=n.data;t.shiftKey||t.ctrlKey||t.metaKey||this.dropdownView[n.type==="upKeyed"?"moveCursorUp":"moveCursorDown"]()},_handleSelection:function(n){var r=n.type==="suggestionSelected",i=r?n.data:this.dropdownView.getSuggestionUnderCursor();i=i?i:this.dropdownView.getFirstSuggestion();i&&(this.inputView.setInputValue(i.value),r?this.inputView.focus():n.data.preventDefault(),r&&t.isMsie()?t.defer(this.dropdownView.close):this.dropdownView.close(),this.eventBus.trigger("selected",i.datum,i.dataset))},_getSuggestions:function(){var i=this,n=this.inputView.getQuery();t.isBlankString(n)||t.each(this.datasets,function(t,r){r.getSuggestions(n,function(t){n===i.inputView.getQuery()&&i.dropdownView.renderSuggestions(r,t)})})},_autocomplete:function(n){var r,u,f,i,t;(n.type!=="rightKeyed"&&n.type!=="leftKeyed"||(r=this.inputView.isCursorAtEnd(),u=this.inputView.getLanguageDirection()==="ltr"?n.type==="leftKeyed":n.type==="rightKeyed",r&&!u))&&(f=this.inputView.getQuery(),i=this.inputView.getHintValue(),i!==""&&f!==i&&(t=this.dropdownView.getFirstSuggestion(),this.inputView.setInputValue(t.value),this.eventBus.trigger("autocompleted",t.datum,t.dataset)))},_propagateEvent:function(n){this.eventBus.trigger(n.type)},destroy:function(){this.inputView.destroy();this.dropdownView.destroy();o(this.$node);this.$node=null},setQuery:function(n){this.inputView.setQuery(n);this.inputView.setInputValue(n);this._clearHint();this._clearSuggestions();this._getSuggestions()}}),f}();(function(){var f={},i="ttView",u;u={initialize:function(u){function o(){var u=n(this),f,o=new r({el:u});f=t.map(e,function(n){return n.initialize()});u.data(i,new l({input:u,eventBus:o=new r({el:u}),datasets:e}));n.when.apply(n,f).always(function(){t.defer(function(){o.trigger("initialized")})})}var e;return u=t.isArray(u)?u:[u],u.length===0&&n.error("no datasets provided"),e=t.map(u,function(n){var t=f[n.name]?f[n.name]:new s(n);return n.name&&(f[n.name]=t),t}),this.each(o)},destroy:function(){function t(){var t=n(this),r=t.data(i);r&&(r.destroy(),t.removeData(i))}return this.each(t)},setQuery:function(t){function r(){var r=n(this).data(i);r&&r.setQuery(t)}return this.each(r)}};jQuery.fn.typeahead=function(n){return u[n]?u[n].apply(this,[].slice.call(arguments,1)):u.initialize.apply(this,arguments)}})()})(window.jQuery);
/*
//# sourceMappingURL=typeahead.min.js.map
*/