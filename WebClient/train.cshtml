@{
    Layout = "~/_Layout.cshtml";
}
@using System.Web.Optimization;

@section CustomCss{
    <style type="text/css">
        body {
            padding-top: 60px;
            padding-bottom: 40px;
        }

        .sidebar-nav {
            padding: 9px 0;
        }

        span.add-on {
            height: 22px !important;
            line-height: 22px !important;
        }

        .input-prepend input {
            height: 32px !important;
            width: 265px !important;
        }

        h5 {
            font-weight: bold !important;
        }

        table {
            margin-top: 5px;
        }
        /* off route link */
        tr.info a {
            color: white;
        }

        div#title {
            margin-top: 5px;
            font-size: large;
        }

            div#title span.xxl {
                font-weight: bold;
                font-size: xx-large;
                margin-left: 5px;
            }

            div#title span.xl {
                font-weight: bold;
                font-size: x-large;
            }

        @@media (max-width: 480px) {
            body {
                font-size: 14px;
            }

            .navbar .brand {
                font-size: 16px;
            }

            div#title {
                margin-top: 5px;
                font-size: 14px;
            }

                div#title span.xxl {
                    font-weight: bold;
                    font-size: 14px;
                    margin-left: 5px;
                }

                div#title span.xl {
                    font-weight: bold;
                    font-size: 14px;
                }
        }
    </style>
}
@section FooterJs{
    <script type="text/javascript">
        var server = "@System.Configuration.ConfigurationManager.AppSettings["server"]";
        var apiPort = "@System.Configuration.ConfigurationManager.AppSettings["apiPort"]";
        var wsPort = "@System.Configuration.ConfigurationManager.AppSettings["wsPort"]";
    </script>

    @Scripts.Render("~/bundles/train")
}
@section TopMenu{
    <li><a href="~/">Home</a></li>
    <li><a href="~/search-schedule">Search Schedule</a></li>
    <li class="active"><a>Train</a></li>
    <li><a href="~/ppm">PPM</a></li>
    <li><a href="~/live">Live Feed</a></li>
}
<div class="row-fluid">
    <div class="span2 phone-hide">
        <div class="well sidebar-nav">
            <ul class="nav nav-list" id="commandOptions">
                <li class="nav-header">Commands</li>
                <li id="get"><a href="#get/" onclick="setCommand('get/');"><strong>Get Train:</strong><br />
                    &nbsp;&nbsp;get/[train uid]/[date:YYYY-MM-DD]</a></li>
                <li id="sub"><a href="#sub/" onclick="setCommand('sub/');"><strong>Subscribe to Train:</strong><br />
                    &nbsp;&nbsp;sub/[train uid]/[date:YYYY-MM-DD]</a></li>
            </ul>
        </div>
        <div class="well sidebar-nav station-details">
            <ul class="nav nav-list">
                <li class="nav-header" data-bind="text: toDisplay()">Station Details</li>
                <li><strong>CRS:</strong><span data-bind="text: locationCRS"></span></li>
                <li><a data-bind="attr: { href: 'search/from/' + locationStanox() }" title="View Trains Starting from this station">Trains Starting From</a></li>
                <li><a data-bind="attr: { href: 'search/at/' + locationStanox() }" title="View Trains Calling at this station">Trains Calling At</a></li>
                <li><a data-bind="attr: { href: 'search/to/' + locationStanox() }" title="View Trains Terminating at this station">Trains Terminating At</a></li>
            </ul>
        </div>
    </div>
    <!--/span2-->
    <div class="span10">
        <div class="row alert alert-info hide" id="no-results-row">
            <strong>No Results Found</strong>
        </div>
        <div class="row alert alert-error hide" id="error-row">
            <strong>Error fetching data. Please Refresh to try again</strong>
        </div>
        <div class="row btn-group phone-hide">
            <div class="input-prepend">
                <span class="add-on"><i class="icon-search"></i></span>
                <input type="text" id="filter-command" class="span9" placeholder="Enter Command" />&nbsp;&nbsp;&nbsp;
                <a class="btn btn-disconnect" id="btn_Command" onclick="parseCommand();" disabled="disabled" title="Send Command"><i class="icon-arrow-right"></i></a>
                <a class="btn btn-disconnect" id="btn_Subscribe" onclick="subTrain();" disabled="disabled" title="Get Live Updates for this train"><i class="icon-refresh"></i></a>
                <a class="btn btn-connect" id="btn_Connect" onclick="connectWs()" title="Connect to server"><i class="icon-play"></i></a>
                <a class="btn btn-disconnect" onclick="disconnect()" disabled="disabled" title="Disconnect from server"><i class="icon-stop"></i></a>
                <a class="btn" href="#" id="status">Connection Status</a>
            </div>
        </div>
        <div class="progress progress-striped active hide">
            <div class="bar" style="width: 100%"></div>
        </div>
        <div class="row" id="title" data-bind="visible: Id">
            <span data-bind="text: Id" class="xxl"></span>
            <span data-bind="text: From" class="stationName xl"></span><span data-bind="visible: To"> to </span>
            <span data-bind="text: To" class="stationName xl"></span>
            <span data-bind="text: Start"></span><span data-bind="visible: End"> - </span>
            <span data-bind="text: End"></span>
            <span data-bind="text: FullTitle" class="hide"></span>
            <hr style="margin: 5px 0px;" />
        </div>
        <div class="row">
            <ul class="nav nav-tabs">
                <li class="active"><a href="#mix" data-toggle="tab">Train</a></li>
                <li><a href="#schedule" data-toggle="tab">Schedule</a></li>
                <li><a href="#trains" data-toggle="tab">Live</a></li>
                <li><a href="#details" data-toggle="tab">Details</a></li>
                <li><a href="#map" data-toggle="tab">Map</a></li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane active" id="mix">
                    @RenderPage("_trainMix.cshtml")
                </div>
                <div class="tab-pane" id="schedule">
                    @RenderPage("_trainSchedule.cshtml")
                </div>
                <div class="tab-pane" id="trains">
                    @RenderPage("_trainLive.cshtml")
                </div>
                <div class="tab-pane" id="details">
                    @RenderPage("_trainDetails.cshtml")
                </div>
                <div class="tab-pane" id="map">
                    @RenderPage("_trainMap.cshtml")
                </div>
            </div>
        </div>
    </div>
    <!--/span10-->
</div>
<!--/row-fluid-->
