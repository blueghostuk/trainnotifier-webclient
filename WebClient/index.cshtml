@{
    Layout = "~/_Layout.cshtml";
}
@using System.Web.Optimization;

@section CustomCss{
    <style type="text/css">
        body {
            padding-top: 60px;
            padding-bottom: 40px;
        }

        .sidebar-nav {
            padding: 9px 0;
        }
    </style>
}

@section FooterJs{
    <script type="text/javascript" 
        src="http://maps.googleapis.com/maps/api/js?key=@System.Configuration.ConfigurationManager.AppSettings["googleApiKey"]&sensor=false">
    </script>

    <script type="text/javascript">
        var apiKey = "@System.Configuration.ConfigurationManager.AppSettings["googleApiKey"]";
        var server = "@System.Configuration.ConfigurationManager.AppSettings["server"]";
    </script>
    
    @Scripts.Render("~/bundles/index")
}

@section TopMenu{
    <li class="active"><a href="#">Live Feed</a></li>
    <li><a href="~/train">Train</a></li>
    <li><a href="~/search">Search</a></li>
}

<div class="row-fluid">
    <div class="span12">
        <div class="btn-group">
            <div class="input-prepend">
                <a class="btn btn-connect" onclick="connectWs();" title="Connect to server"><i class="icon-play"></i></a>
                <a class="btn btn-disconnect" onclick="disconnect();" disabled="disabled" title="Disconnect from server"><i class="icon-stop"></i></a>
                <a class="btn" href="#" title="Clear table" onclick="clearTable();"><i class="icon-remove"></i></a>
                <a class="btn" href="#" id="status">Connection Status</a>
            </div>
        </div>
        <div class="navbar-inner">
            <form class="navbar-search pull-right" onsubmit="return false;">
                <div class="input-prepend" style="margin-right: 20px">
                    <span class="add-on"><i class="icon-filter"></i></span>
                    <input type="text" id="filter-location" class="span12" placeholder="Filter Table Location" title="Clear and press ENTER to reset" />
                    <br />
                </div>
            </form>
        </div>
        <div style="height: 800px; overflow: auto;">
            <table class="table table-hover table-bordered" id="table-trains">
                <thead>
                    <tr>
                        <th>Train ID</th>
                        <th>Service Code</th>
                        <th>Action</th>
                        <th>Time</th>
                        <th>Direction</th>
                        <th>Platform</th>
                        <th>Location</th>
                    </tr>
                </thead>
                <tbody id="data">
                </tbody>
            </table>
        </div>
    </div>
    <!--/span9-->
</div>
<!--/row-fluid-->
@section PostContainer{
    <div id="mapModal" class="modal hide" tabindex="-1" role="dialog" aria-labelledby="mapModalLabel" aria-hidden="true">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h3 id="mapModalLabel">Train Map</h3>
        </div>
        <div class="modal-body" style="width: 400px; height: 400px;">
            <div id="map_canvas" style="width: 100%; height: 100%;"></div>
        </div>
    </div>
}